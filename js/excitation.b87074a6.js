(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["excitation"],{"06f9":function(n,t,e){},"34ef":function(n,t,e){"use strict";e.r(t);var i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"excitation"},[e("contentBg",{ref:"contentBg"}),e("contentTitle",[e("div",{staticClass:"text"},[e("span",[n._v(n._s(n.$t("zhu-li-farokexchain-sheng-tai-fa-zhan")))]),e("span",[n._v(n._s(n.$t("ying-qu-feng-hou-far-jiang-li")))])])]),e("div",{staticClass:"excitationContent"},[e("div",{staticClass:"myRecommend"},[e("div",[e("div",[e("span",[n._v(n._s(n.$t("nin-de-sheng-tai-tui-jian-ma")))]),e("span",[n._v(n._s(n.codeNumber))])]),e("div",[e("span",[n._v("您的邀请链接：")]),e("span",[n._v(n._s(n.link))])]),e("van-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:n.link,expression:"link",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:n.onCopySuccess,expression:"onCopySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:n.onCopyError,expression:"onCopyError",arg:"error"}],nativeOn:{click:function(n){n.stopPropagation()}}},[n._v(n._s(n.$t("dian-ji-fu-zhi")))])],1),e("div",[e("div",[e("span",[n._v(n._s(n.$t("sheng-tai-tui-jian-ren-di-zhi")))]),e("span",[n._v(n._s(n.recommerShotCode))])]),n.isBind?e("van-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:n.recommerShotCode,expression:"recommerShotCode",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:n.onCopySuccess,expression:"onCopySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:n.onCopyError,expression:"onCopyError",arg:"error"}],nativeOn:{click:function(n){n.stopPropagation()}}},[n._v(n._s(n.$t("dian-ji-fu-zhi")))]):e("van-button",{on:{click:function(t){n.show=!0}}},[n._v(n._s(n.$t("dian-ji-bang-ding")))])],1)]),e("div",{staticClass:"excitationContentBottom"},[e("div",{staticClass:"myRecommendData"},[e("div",[e("span",[n._v(n._s(n.networkPower)+" $")]),e("span",[n._v(n._s(n.$t("dang-qian-quan-wang-sheng-tai-ji-li-suan-li")))])]),e("div",[e("span",[n._v(n._s(n.myPower)+" $")]),e("span",[n._v(n._s(n.$t("dang-qian-nin-de-sheng-tai-ji-li-suan-li")))])]),e("div",[e("span",[n._v(n._s(n.getExcitation)+" FAR")]),e("span",[n._v(n._s(n.$t("nin-yi-huo-de-de-sheng-tai-ji-li")))])])]),e("redGreenBut",{class:"dn"==n.$i18n.locale||"rn"==n.$i18n.locale?"dn":"",nativeOn:{click:function(t){return n.doDrawMyTotalAwards(t)}}},[n._v(n._s(n.$t("ling-qu-sheng-tai-ji-li-jiang-li")))])],1)]),e("van-overlay",{attrs:{show:n.show},on:{click:function(t){n.show=!n.show}}},[e("div",{staticClass:"register",on:{click:function(n){n.stopPropagation()}}},[e("div",[e("div",[e("div",{staticClass:"title"},[n._v(" "+n._s(n.$t("sheng-tai-tui-jian-di-zhi-bang-ding"))+" ")]),e("div",{staticClass:"input"},[e("span",[n._v(n._s(n.$t("qing-shu-ru-xu-bang-ding-de-sheng-tai-tui-jian-ma-huo-dui-ying-di-zhi")))]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.other,expression:"other"}],attrs:{type:"text",placeholder:n.$t("sheng-tai-tui-jian-ma-huo-dui-ying-di-zhi")},domProps:{value:n.other},on:{input:[function(t){t.target.composing||(n.other=t.target.value)},function(t){n.other=n.other.replace(/[\W]/g,"")}]}})])]),e("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"0XDEADAD",expression:"'0XDEADAD'",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:n.onCopySuccess,expression:"onCopySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:n.onCopyError,expression:"onCopyError",arg:"error"}],staticClass:"copy",nativeOn:{click:function(n){n.stopPropagation()}}},[e("span",[n._v("官方邀请码：0XDEADAD")]),e("div",[n._v("复制")])]),e("p",[n._v(" "+n._s(n.$t("qing-que-ren-nin-shu-ru-de-sheng-tai-tui-jian-ma-zheng-que-wu-wu-dan-ge-di-zhi-zhi-neng-bang-ding-yi-ci-tui-jian-ma-tui-jian-di-zhi-bang-ding-hou-wu-fa-xiu-gai-qing-nin-zi-xi-que-ren"))+" ")])]),e("div",{staticClass:"but"},[e("redGreenBut",{nativeOn:{click:function(t){n.show=!n.show}}},[n._v(n._s(n.$t("qu-xiao")))]),e("redGreenBut",{class:"dn"==n.$i18n.locale?"dni":"",nativeOn:{click:function(t){return n.bind(t)}}},[n._v(n._s(n.$t("que-ren-wu-wu-bang-ding")))])],1)])])])],1)},o=[],a=(e("99af"),e("a9e3"),e("d3b7"),e("25f0"),e("9911"),e("6b75"));function r(n){if(Array.isArray(n))return Object(a["a"])(n)}e("a4d3"),e("e01a"),e("d28b"),e("a630"),e("3ca3"),e("ddb0");function s(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}var c=e("06c5");function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(n){return r(n)||s(n)||Object(c["a"])(n)||u()}e("96cf");var l=e("1da1"),h={data:function(){return{show:!1,other:"",codeNumber:"******",recommerShotCode:"",isBind:!1,maxLength:8,myPower:0,drawed:0,networkPower:0,getExcitation:0,lockAmount:0,link:"******"}},watch:{show:function(){this.show||(this.other="")}},methods:{init:function(){var n=this;this.show=!1,this.$route.query.code&&(this.other=this.$route.query.code),this.$contracts.Relation.methods.recommendInfo().call({from:this.$address},(function(t,e){var i=n.$web3.utils.hexToString(e.shotCode);n.codeNumber=i.length?i:"******",n.link="".concat(window.location.origin,"/#/excitation?code=").concat(n.codeNumber);var o=n.$web3.utils.hexToString(e.recommerShotCode);n.recommerShotCode=o.length?o:n.$t("zan-wu"),n.isBind=Boolean(i.length)})),this.$contracts.PowerMine.methods.doDraw().call({from:this.$address},(function(t,e){console.log(e),n.getExcitation=parseInt(e.toString().fromWei()).toNum()})),this.$contracts.PowerMine.methods.mineInfo(this.$address).call({from:this.$address},(function(t,e){n.myPower=parseInt(e.myPower.fromWei()).toNum(),n.networkPower=parseInt(e.networkPower.fromWei()).toNum()}))},bind:function(){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var e,i,o,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=d("abcdefghijklmnopqrstuvwxyz0123456789"),i="",!(n.other.length>n.maxLength)||n.$web3.utils.isAddress(n.other)){t.next=6;break}return t.abrupt("return",n.$toast.fail("请输入正确的生态推荐人地址"));case 6:if(!(n.other.length<8)){t.next=8;break}return t.abrupt("return",n.$toast.fail("请输入正确的生态推荐码"));case 8:for(a=0;a<n.maxLength;a++)i+=e[n.randomNum()];if(n.other.length!=n.maxLength){t.next=17;break}return t.next=12,n.$contracts.Relation.methods.shortCodeToAddress(n.$web3.utils.stringToHex(n.other.toLocaleUpperCase())).call();case 12:if(o=t.sent,"0x0000000000000000000000000000000000000000"!=o){t.next=15;break}return t.abrupt("return",n.$toast.fail(n.$t("sheng-tai-tui-jian-ma-bu-cun-zai")));case 15:t.next=23;break;case 17:return o=n.other,t.next=20,n.$contracts.Relation.methods.addressToShortCode(o).call();case 20:if(r=t.sent,n.$web3.utils.hexToString(r).length){t.next=23;break}return t.abrupt("return",n.$toast.fail(n.$t("sheng-tai-tui-jian-ren-di-zhi-bu-cun-zai")));case 23:n.$contracts.Relation.methods.addRelationEx(o,n.$web3.utils.stringToHex(i.toLocaleUpperCase())).send({from:n.$address}).on("transactionHash",(function(t){n.$loading()})).on("receipt",(function(t){n.$loading(),n.$nextTick((function(){n.$toast.success(n.$t("bang-ding-cheng-gong")),n.init()}))})).on("error",console.error);case 24:case"end":return t.stop()}}),t)})))()},doDrawMyTotalAwards:function(){var n=this;if(!Number(this.getExcitation.fromNum()))return this.$toast.fail(this.$t("zan-wu-ke-ling-qu-de-sheng-tai-ji-li"));this.$contracts.PowerMine.methods.doDraw().send({from:this.$address}).on("transactionHash",(function(t){n.$loading()})).on("receipt",(function(t){n.$loading(),n.$nextTick((function(){n.$toast.success(n.$t("ling-qu-cheng-gong")),n.init()}))})).on("error",console.error)},randomNum:function(){return parseInt(36*Math.random()+0,10)},onCopySuccess:function(){this.$toast.fail(this.$t("fu-zhi-cheng-gong"))},onCopyError:function(){this.$toast.fail(this.$t("fu-zhi-shi-bai"))}},mounted:function(){this.$contracts&&this.init()}},p=h,g=p,m=(e("ed2a"),e("6ce6"),e("2877")),f=Object(m["a"])(g,i,o,!1,null,"87149f4e",null);t["default"]=f.exports},"53df":function(n,t,e){},"6ce6":function(n,t,e){"use strict";e("53df")},"857a":function(n,t,e){var i=e("1d80"),o=/"/g;n.exports=function(n,t,e,a){var r=String(i(n)),s="<"+t;return""!==e&&(s+=" "+e+'="'+String(a).replace(o,"&quot;")+'"'),s+">"+r+"</"+t+">"}},9911:function(n,t,e){"use strict";var i=e("23e7"),o=e("857a"),a=e("af03");i({target:"String",proto:!0,forced:a("link")},{link:function(n){return o(this,"a","href",n)}})},af03:function(n,t,e){var i=e("d039");n.exports=function(n){return i((function(){var t=""[n]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},ed2a:function(n,t,e){"use strict";e("06f9")}}]);